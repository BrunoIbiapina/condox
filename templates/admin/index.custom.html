{% extends "admin/index.html" %}
{% load admin_dashboard %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto; width: 100%;">
  <!-- Header personalizado -->
  <header style="margin-bottom: 2rem;">
    <div style="display: flex; flex-direction: column; gap: 1rem;">
      <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
        <h1 style="display: flex; align-items: center; gap: 0.5rem; margin: 0; font-size: 1.75rem; font-weight: 600; color: #1e293b;">
          <i data-lucide="shield-check" style="width: 24px; height: 24px;"></i>
          Administração CondoX
        </h1>
        <div style="display: flex; gap: 0.75rem;">
          <a href="/" style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.25rem; background: #6b7280; color: white; text-decoration: none; border-radius: 8px; font-weight: 500; transition: all 0.2s ease;">
            <i data-lucide="home" style="width: 16px; height: 16px;"></i> Portal
          </a>
          <a href="/?tab=reservas" style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.25rem; background: #22c55e; color: white; text-decoration: none; border-radius: 8px; font-weight: 500; transition: all 0.2s ease;">
            <i data-lucide="activity" style="width: 16px; height: 16px;"></i> Monitor
          </a>
        </div>
      </div>
      <p style="color: #64748b; margin: 0; font-size: 0.875rem;">Painel administrativo para gestão completa do condomínio</p>
    </div>
  </header>

  <!-- KPIs usando o mesmo padrão dos dashboards -->
  <section style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.25rem; margin-bottom: 2rem;">
    <div style="background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%); border: 1px solid #86efac; border-radius: 12px; padding: 1.25rem;">
      <div style="display: flex; align-items: center; gap: 0.5rem; color: #15803d; font-size: 0.875rem; margin-bottom: 0.5rem;">
        <i data-lucide="activity" style="width: 16px; height: 16px;"></i> Em uso agora
      </div>
      <div style="font-size: 2.5rem; font-weight: 700; color: #15803d; margin: 0.5rem 0;">{% kpi_em_uso_agora %}</div>
      <p style="color: rgba(21, 128, 61, 0.8); font-size: 0.75rem; margin: 0;">Áreas em andamento</p>
    </div>

    <div style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); border: 1px solid #93c5fd; border-radius: 12px; padding: 1.25rem;">
      <div style="display: flex; align-items: center; gap: 0.5rem; color: #1d4ed8; font-size: 0.875rem; margin-bottom: 0.5rem;">
        <i data-lucide="calendar" style="width: 16px; height: 16px;"></i> Reservas hoje
      </div>
      <div style="font-size: 2.5rem; font-weight: 700; color: #1d4ed8; margin: 0.5rem 0;">{% kpi_reservas_hoje %}</div>
      <p style="color: rgba(29, 78, 216, 0.8); font-size: 0.75rem; margin: 0;">Total do dia</p>
    </div>

    <div style="background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%); border: 1px solid #f87171; border-radius: 12px; padding: 1.25rem;">
      <div style="display: flex; align-items: center; gap: 0.5rem; color: #dc2626; font-size: 0.875rem; margin-bottom: 0.5rem;">
        <i data-lucide="alert-triangle" style="width: 16px; height: 16px;"></i> Inadimplentes
      </div>
      <div style="font-size: 2.5rem; font-weight: 700; color: #dc2626; margin: 0.5rem 0;">{% kpi_inadimplentes %}</div>
      <p style="color: rgba(220, 38, 38, 0.8); font-size: 0.75rem; margin: 0;">Vencidos e não pagos</p>
    </div>

    <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border: 1px solid #fbbf24; border-radius: 12px; padding: 1.25rem;">
      <div style="display: flex; align-items: center; gap: 0.5rem; color: #d97706; font-size: 0.875rem; margin-bottom: 0.5rem;">
        <i data-lucide="clock" style="width: 16px; height: 16px;"></i> Pendentes
      </div>
      <div style="font-size: 2.5rem; font-weight: 700; color: #d97706; margin: 0.5rem 0;">{% kpi_pendentes %}</div>
      <p style="color: rgba(217, 119, 6, 0.8); font-size: 0.75rem; margin: 0;">Lançamentos a vencer</p>
    </div>
  </section>

  <!-- Ações rápidas -->
  <section style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.25rem; margin-bottom: 2rem;">
    <a href="/" style="background: white; border: 1px solid #e2e8f0; border-radius: 12px; padding: 1.25rem; text-decoration: none; color: inherit; transition: all 0.2s ease; display: flex; align-items: center; justify-content: space-between;">
      <div style="display: flex; align-items: center; gap: 0.75rem;">
        <i data-lucide="home" style="width: 24px; height: 24px; color: #3b82f6;"></i>
        <div>
          <div style="font-weight: 600; color: #1e293b;">Portal Principal</div>
          <div style="font-size: 0.75rem; color: #64748b;">Dashboard geral</div>
        </div>
      </div>
      <i data-lucide="arrow-right" style="width: 16px; height: 16px; color: #9ca3af;"></i>
    </a>

    <a href="/admin/reservas/reserva/" style="background: white; border: 1px solid #e2e8f0; border-radius: 12px; padding: 1.25rem; text-decoration: none; color: inherit; transition: all 0.2s ease; display: flex; align-items: center; justify-content: space-between;">
      <div style="display: flex; align-items: center; gap: 0.75rem;">
        <i data-lucide="calendar-plus" style="width: 24px; height: 24px; color: #22c55e;"></i>
        <div>
          <div style="font-weight: 600; color: #1e293b;">Nova Reserva</div>
          <div style="font-size: 0.75rem; color: #64748b;">Agendar área</div>
        </div>
      </div>
      <i data-lucide="arrow-right" style="width: 16px; height: 16px; color: #9ca3af;"></i>
    </a>

    <a href="/admin/financeiro/lancamento/" style="background: white; border: 1px solid #e2e8f0; border-radius: 12px; padding: 1.25rem; text-decoration: none; color: inherit; transition: all 0.2s ease; display: flex; align-items: center; justify-content: space-between;">
      <div style="display: flex; align-items: center; gap: 0.75rem;">
        <i data-lucide="wallet" style="width: 24px; height: 24px; color: #f59e0b;"></i>
        <div>
          <div style="font-weight: 600; color: #1e293b;">Financeiro</div>
          <div style="font-size: 0.75rem; color: #64748b;">Lançamentos</div>
        </div>
      </div>
      <i data-lucide="arrow-right" style="width: 16px; height: 16px; color: #9ca3af;"></i>
    </a>

    <a href="/admin/comunicados/aviso/" style="background: white; border: 1px solid #e2e8f0; border-radius: 12px; padding: 1.25rem; text-decoration: none; color: inherit; transition: all 0.2s ease; display: flex; align-items: center; justify-content: space-between;">
      <div style="display: flex; align-items: center; gap: 0.75rem;">
        <i data-lucide="megaphone" style="width: 24px; height: 24px; color: #8b5cf6;"></i>
        <div>
          <div style="font-weight: 600; color: #1e293b;">Comunicados</div>
          <div style="font-size: 0.75rem; color: #64748b;">Avisos e notícias</div>
        </div>
      </div>
      <i data-lucide="arrow-right" style="width: 16px; height: 16px; color: #9ca3af;"></i>
    </a>
  </section>
</div>

{{ block.super }} {# mantém a listagem padrão de apps e ações recentes #}

<style>
/* Hover effects */
a[href]:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1) !important;
}

/* Responsividade */
@media (max-width: 768px) {
  div[style*="display: flex; justify-content: space-between"] {
    flex-direction: column !important;
    align-items: flex-start !important;
  }
  
  section[style*="grid-template-columns"] {
    grid-template-columns: 1fr !important;
  }
}
</style>
{% endblock %}