<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      {% block title %}
        CondoX
      {% endblock %}
    </title>

    <!-- Fonte + Tailwind CDN -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tema claro -->
    <style>
      :root {
        --page-bg: #f9fafb;
        --text: #111827;
        --muted: #6b7280;
        --card-bg: #ffffff;
        --card-border: #e5e7eb;
        --shadow: 0 1px 2px rgba(16, 24, 40, 0.06);

        --primary: #2563eb;
        --primary-hover: #1d4ed8;
        --secondary-bg: #f3f4f6;
        --secondary-hover: #e5e7eb;

        --good: #16a34a;
        --warn: #d97706;
        --bad: #dc2626;
        --info: #0ea5e9;
      }

      body {
        font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial, sans-serif;
        background: var(--page-bg);
        color: var(--text);
      }

      header.appbar {
        position: sticky;
        top: 0;
        z-index: 40;
        background: #fff;
        border-bottom: 1px solid var(--card-border);
        box-shadow: 0 1px 0 rgba(17, 24, 39, 0.04);
      }

      .container {
        max-width: 80rem;
        margin: 0 auto;
        padding-left: 1rem;
        padding-right: 1rem;
      }

      .card {
        background: var(--card-bg);
        border: 1px solid var(--card-border);
        border-radius: 12px;
        box-shadow: var(--shadow);
      }

      .pill {
        border-radius: 999px;
        padding: 0.25rem 0.6rem;
        font-size: 0.75rem;
        font-weight: 600;
      }
      .pill-blue { background: #e0eaff; color: #1d4ed8; }
      .pill-green { background: #dcfce7; color: #166534; }
      .pill-amber { background: #fef3c7; color: #92400e; }
      .pill-red { background: #fee2e2; color: #991b1b; }
      .pill-gray { background: #f3f4f6; color: #374151; }

      .btn {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.6rem 1rem;
        border-radius: 0.6rem;
        font-weight: 600;
        font-size: 0.9rem;
        transition: filter 0.2s ease, background 0.2s ease, border-color 0.2s ease;
        border: 1px solid var(--card-border);
      }
      .btn:hover { filter: brightness(0.98); }
      .btn-primary { background: var(--primary); color: #fff; border-color: var(--primary); }
      .btn-primary:hover { background: var(--primary-hover); }
      .btn-secondary { background: var(--secondary-bg); color: #111827; }
      .btn-secondary:hover { background: var(--secondary-hover); }
      .btn-danger { background: var(--bad); border-color: var(--bad); color: #fff; }
      .btn-ghost { background: #fff; color: var(--text); }

      .link { color: var(--primary); text-decoration: none; }
      .link:hover { text-decoration: underline; }

      input[type='text'],
      input[type='number'],
      input[type='date'],
      input[type='time'],
      input[type='email'],
      input[type='password'],
      textarea,
      select {
        background: #fff !important;
        color: var(--text) !important;
        border: 1px solid var(--card-border) !important;
        border-radius: 0.5rem;
        padding: 0.5rem 0.75rem;
        outline: none;
        box-shadow: none;
      }
      input:focus,
      textarea:focus,
      select:focus {
        border-color: var(--primary) !important;
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15) !important;
      }

      table { width: 100%; border-collapse: collapse; }
      th {
        text-align: left;
        font-weight: 600;
        color: #374151;
        padding: 0.75rem;
        border-bottom: 1px solid var(--card-border);
        background: #f9fafb;
      }
      td {
        padding: 0.75rem;
        border-bottom: 1px solid var(--card-border);
        color: #111827;
      }

      hr { border: 0; border-top: 1px solid var(--card-border); }

      .alert {
        border-radius: 0.6rem;
        padding: 0.6rem 0.9rem;
        border: 1px solid;
      }
      .alert-success { background: #ecfdf5; color: #065f46; border-color: #a7f3d0; }
      .alert-error { background: #fef2f2; color: #991b1b; border-color: #fecaca; }
      .alert-info { background: #eff6ff; color: #1e40af; border-color: #bfdbfe; }
    </style>
  </head>

  <body>
    <!-- Navbar (sobrescrevível) -->
    {% block navbar %}
    <header class="appbar">
      <div class="container py-3 flex items-center justify-between">
        <a href="/" class="flex items-center gap-2 text-lg font-semibold text-gray-900">
          <i data-lucide="home" class="w-5 h-5"></i>
          CondoX
        </a>

        <nav class="flex items-center gap-4 text-sm">
          <a href="/reservas/areas/" class="link flex items-center gap-1"><i data-lucide="calendar" class="w-4 h-4"></i> Reservas</a>
          <a href="/eventos/" class="link flex items-center gap-1"><i data-lucide="calendar-days" class="w-4 h-4"></i> Eventos</a>
          <a href="/admin/" class="link flex items-center gap-1"><i data-lucide="settings" class="w-4 h-4"></i> Admin</a>

          {% if user.is_authenticated %}
            <span class="hidden sm:inline text-gray-600">Olá, {{ user.first_name|default:user.username }}!</span>
            <form method="post" action="{% url 'logout' %}" class="inline">
              {% csrf_token %}
              <button class="btn btn-secondary" type="submit"><i data-lucide="log-out" class="w-4 h-4"></i> Sair</button>
            </form>
          {% else %}
            <a href="/accounts/login/" class="btn btn-primary"><i data-lucide="log-in" class="w-4 h-4"></i> Entrar</a>
          {% endif %}
        </nav>
      </div>
    </header>
    {% endblock navbar %}

    <!-- Mensagens -->
    {% if messages %}
      <div class="container pt-4">
        {% for message in messages %}
          <div class="mb-2 alert
        {% if message.tags == 'success' %}alert-success{% endif %}
        {% if message.tags == 'error' %}alert-error{% endif %}
        {% if message.tags == 'info' or message.tags == 'warning' %}alert-info{% endif %}">{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}

    <!-- Conteúdo -->
    <main id="conteudo" class="container py-6">
      {% block content %}{% endblock %}
    </main>

    <!-- Rodapé (sobrescrevível) -->
    {% block footer %}
    <footer class="border-t bg-white mt-10">
      <div class="container py-4 text-sm text-gray-500">
        CondoX © 2025
      </div>
    </footer>
    {% endblock footer %}

    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        if (window.lucide) window.lucide.createIcons()
      })
    </script>
  </body>
</html>